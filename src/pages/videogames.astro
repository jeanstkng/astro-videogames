---
import Card from "../components/Card.astro";
import Layout from "../layouts/Layout.astro";
import type { IVideoGame } from "../types/videogame";

const response = await fetch("https://www.freetogame.com/api/games?platform=pc&category=mmorpg");
const parsedResponse: IVideoGame[] = await response.json();

---

<Layout title="Videojuegos">
    <ul slot="despues" class="m-4 list-width text-center justify-center mr-auto ml-auto">
        {parsedResponse.map((game: IVideoGame) => (<Card imgSrc={game.thumbnail} href={`/videogames/${game.id}`} title={game.title} body={game.short_description} />))}
    </ul>
</Layout>

<style>
    .list-width {
        width: 600px;
    }
</style>